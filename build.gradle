plugins {
    id 'com.github.ben-manes.versions' version '0.20.0' apply false
}

apply from: 'dependencies.gradle'

group = 'com.yoloo.server'
version = '0.0.1-SNAPSHOT'

allprojects {
    repositories {
        jcenter()
    }

    tasks.withType(JavaCompile) {
        options.incremental = true
    }
}

subprojects {
    apply plugin: 'base'
    apply plugin: 'com.github.ben-manes.versions'

    repositories {
        jcenter()
        maven { url "https://krialix.github.io/maven-artifactory/" }
        maven { url "https://repo.spring.io/milestone" }
    }

    configurations.all {
        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-tomcat'
        //exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'
        exclude group: 'ch.qos.logback', module: 'logback-core'
        exclude group: 'ch.qos.logback', module: 'logback-classic'
        exclude group: 'org.slf4j', module: 'jul-to-slf4j'

        resolutionStrategy {
            force 'com.fasterxml.jackson.core:jackson-databind:2.9.5',
                    'org.slf4j:slf4j-api:1.8.0-beta2'/*,
                    "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlinVersion",
                    "org.jetbrains.kotlin:kotlin-reflect:$kotlinVersion"*/
        }
    }

    clean {
        delete 'out'
    }
}